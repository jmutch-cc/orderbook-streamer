(this["webpackJsonporderbook-streamer"]=this["webpackJsonporderbook-streamer"]||[]).push([[0],{27:function(e,t,a){e.exports=a(67)},32:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),i=a(24),l=a.n(i),o=(a(32),function(e){return r.a.createElement("nav",{className:"header navbar navbar-dark bg-dark",style:{overflowX:"hidden"}},r.a.createElement("div",{className:"text-center mx-auto"},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"h3 ml-3 my-auto text-light d-inline-block"},e.title))))});o.defaultProps={title:"App"};var n=a(1),c=a(2),m=a(6),h=a(5),u=a(3),p=a(7),d=a(9),v=a.n(d),y=a(25),b=function(){function e(){Object(n.a)(this,e),this.snapshot={0:{},1:{}},this.lastUpdated=[],this.depth=2e6,this.clientUrl="wss://streamer.cryptocompare.com/v2"}return Object(c.a)(e,[{key:"processData",value:function(e,t,a){for(var s={},r={},i=0;i<e.length;i++)e[i]={value:Number(e[i].P),volume:Number(e[i][["Q"]])};if(e.sort((function(e,t){return e.value>t.value?1:e.value<t.value?-1:0})),a){for(var l=e.length-1;l>=0;l--){l<e.length-1?e[l].totalvolume={to:e[l+1].totalvolume.to+e[l].volume,from:e[l+1].totalvolume.from+e[l].volume*e[l].value}:e[l].totalvolume={to:e[l].volume,from:e[l].volume*e[l].value};var o={};o.value=e[l].value,o[t+"volume"]=e[l].volume,o[t+"totalvolume"]=e[l].totalvolume,s[100*e[l].value]=o}r={},Object.keys(s).sort((function(e,t){return e-t})).forEach((function(e){r[e]=s[e]}))}else{for(var n=0;n<e.length;n++){e[n].totalvolume=n>0?{to:e[n-1].totalvolume.to+e[n].volume,from:e[n-1].totalvolume.from+e[n].volume*e[n].value}:{to:e[n].volume,from:e[n].volume*e[n].value};var c={};c.value=e[n].value,c[t+"volume"]=e[n].volume,c[t+"totalvolume"]=e[n].totalvolume,s[100*e[n].value]=c}r={},Object.keys(s).sort((function(e,t){return t-e})).forEach((function(e){r[e]=s[e]}))}return r}},{key:"populateSnapshot",value:function(e,t){var a=this;e.BID.map((function(e,t){a.snapshot[0][100*e.P]={Q:e.Q,P:String(e.P)}})),e.ASK.map((function(e,t){a.snapshot[1][100*e.P]={Q:e.Q,P:String(e.P)}})),t({orders:this.getSnapshot(),lastUpdated:this.lastUpdated})}},{key:"getLastUpdated",value:function(){return this.lastUpdated}},{key:"resetLastUpdated",value:function(){this.lastUpdated=[]}},{key:"resetSnapshot",value:function(){this.snapshot={0:{},1:{}}}},{key:"getSnapshot",value:function(){var e=Object.keys(this.snapshot[0]).sort().slice(-this.depth),t=[],a=!0,s=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var o=i.value;t.push(this.snapshot[0][o])}}catch(y){s=!0,r=y}finally{try{a||null==l.return||l.return()}finally{if(s)throw r}}var n=Object.keys(this.snapshot[1]).slice(0,this.depth),c=[],m=!0,h=!1,u=void 0;try{for(var p,d=n[Symbol.iterator]();!(m=(p=d.next()).done);m=!0){var v=p.value;c.push(this.snapshot[1][v])}}catch(y){h=!0,u=y}finally{try{m||null==d.return||d.return()}finally{if(h)throw u}}return{0:this.processData(t,"bids",!0),1:this.processData(c,"asks",!1)}}},{key:"updateSnapshot",value:function(e,t){1===e.ACTION&&(this.snapshot[e.SIDE][100*e.P]={P:e.P,Q:e.Q},this.lastUpdated.push(e.P)),void 0!==this.snapshot[e.SIDE][100*e.P]?(2===e.ACTION&&delete this.snapshot[e.SIDE][100*e.P],4===e.ACTION&&(this.snapshot[e.SIDE][100*e.P].Q=e.Q,this.lastUpdated.push(e.P))):console.error("No price ",e.P," found on side ",e.SIDE," to perform action ",e.ACTION)}},{key:"subscribe",value:function(e,t,a,s,r,i){var l=this;console.log("Subscribing",e,a,t,this.client),this.client=new y.w3cwebsocket(s+"?api_key="+r),this.client.onopen=function(){l.client.send(JSON.stringify({action:"SubAdd",subs:["8~"+e+"~"+t+"~"+a]}))},this.client.onmessage=function(e){if(e.data){var t=JSON.parse(e.data);"9"===t.TYPE&&l.populateSnapshot(t,i),"8"===t.TYPE&&l.updateSnapshot(t)}}}},{key:"unsubscribe",value:function(e){this.resetLastUpdated(),this.resetSnapshot(),null!=this.client&&(this.client.close(),this.client=null)}}]),e}(),f=(new b,function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).selectExchange=a.selectExchange.bind(Object(u.a)(a)),a.selectFsym=a.selectFsym.bind(Object(u.a)(a)),a.selectTsym=a.selectTsym.bind(Object(u.a)(a)),a.subscribe=a.subscribe.bind(Object(u.a)(a)),a.changeSubscriptionKey=a.changeSubscriptionKey.bind(Object(u.a)(a)),a.changeClientUrl=a.changeClientUrl.bind(Object(u.a)(a)),a.changeApiKey=a.changeApiKey.bind(Object(u.a)(a)),a.state={exchanges:{},fSyms:{},tSyms:{},fSym:e.fSym,tSym:e.tSym,subscriptionKey:"",clientUrl:e.clientUrl,apiKey:e.apiKey,exchange:e.exchange},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get("https://min-api.cryptocompare.com/data/ob/l2/exchanges?api_key="+this.state.apiKey).then((function(t){v.a.get("https://min-api.cryptocompare.com/data/v4/all/exchanges").then((function(a){var s={},r=!0,i=!1,l=void 0;try{for(var o,n=t.data.Data[Symbol.iterator]();!(r=(o=n.next()).done);r=!0){var c=o.value;s[c]=a.data.Data.exchanges[c]}}catch(m){i=!0,l=m}finally{try{r||null==n.return||n.return()}finally{if(i)throw l}}e.setState({exchanges:s}),e.setState({fSyms:e.state.exchanges[e.state.exchange].pairs,tSyms:e.state.exchanges[e.state.exchange].pairs[e.state.fSym].tsyms},(function(){e.setState({subscriptionKey:e.state.exchange+"~"+e.state.fSym+"~"+e.state.tSym},(function(){e.props.autoSubscribe&&e.subscribe()}))}))}))}))}},{key:"selectExchange",value:function(e){var t=this,a=e.target.value,s=this.state.exchanges[a].pairs;this.setState({exchange:a,fSyms:s,tSyms:s[Object.keys(s)[0]].tsyms,fSym:Object.keys(s)[0],tSym:Object.keys(s[Object.keys(s)[0]].tsyms)[0]},(function(){t.setState({subscriptionKey:t.state.exchange+"~"+t.state.fSym+"~"+t.state.tSym}),console.log(t.state.subscriptionKey)}))}},{key:"selectFsym",value:function(e){var t=this,a=e.target.value,s=this.state.exchanges[this.state.exchange].pairs;this.setState({fSym:a,tSyms:s[a].tsyms,tSym:Object.keys(s[a].tsyms)[0]},(function(){t.setState({subscriptionKey:t.state.exchange+"~"+t.state.fSym+"~"+t.state.tSym})}))}},{key:"selectTsym",value:function(e){var t=this,a=e.target.value;this.setState({tSym:a},(function(){t.setState({subscriptionKey:t.state.exchange+"~"+t.state.fSym+"~"+t.state.tSym})}))}},{key:"changeSubscriptionKey",value:function(e){this.setState({subscriptionKey:e.target.value})}},{key:"changeClientUrl",value:function(e){this.setState({clientUrl:e.target.value})}},{key:"changeApiKey",value:function(e){this.setState({apiKey:e.target.value})}},{key:"subscribe",value:function(){this.props.subscribe(this.state.subscriptionKey,this.state.clientUrl,this.state.apiKey)}},{key:"render",value:function(){return r.a.createElement("div",{className:"subscription"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("input",{className:"form-control",placeholder:"Streamer URL",onChange:this.changeClientUrl,value:this.state.clientUrl})),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("input",{className:"form-control",type:"text",placeholder:"API Key",onChange:this.changeApiKey,required:!0,value:this.state.apiKey}))),r.a.createElement("div",{className:"subscription row"},r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("select",{className:"browser-default custom-select col-md",value:this.state.exchange,onChange:this.selectExchange,name:"exchanges",id:"exchanges"},Object.keys(this.state.exchanges).map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("select",{className:"browser-default custom-select col-md",value:this.state.fSym,onChange:this.selectFsym,name:"fSym",id:"fSym"},Object.keys(this.state.fSyms).map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("select",{className:"browser-default custom-select col-md",value:this.state.tSym,onChange:this.selectTsym,name:"tSym",id:"tSym"},Object.keys(this.state.tSyms).map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("div",{className:"col-md-2"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"}),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("input",{style:{float:"right",width:"80%"},className:"form-control",type:"text",onChange:this.changeSubscriptionKey,placeholder:"Subscription Key",value:this.state.subscriptionKey}),r.a.createElement("div",{style:{float:"right",paddingTop:"10px"}},"8~")),r.a.createElement("div",{className:"col-md-1"},r.a.createElement("span",{onClick:this.subscribe},r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Subscribe")))))}}]),t}(s.Component)),g=a(10),S=a.n(g),E=function(){function e(){Object(n.a)(this,e)}return Object(c.a)(e,[{key:"formatNumber",value:function(e,t,a){var s=+e.toFixed(8);return(s=s>1e4&&a?S()(s).format("0,0."+"0".repeat(t)+"a"):S()(s).format("0,0."+"0".repeat(t))).toString()}}]),e}(),k=(a(53),new E),N=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){a.setState({priceImpactVolume:e.target.value})},a.toggleState=a.toggleState.bind(Object(u.a)(a)),a.toggleDirection=a.toggleDirection.bind(Object(u.a)(a)),a.state={updated:!1,priceImpactVolume:10,toggle:"sell",direction:"to"},a.stats={spread:{midpoint:0,high:0,low:0},depth:{bids:{},asks:{}},impact:{buy:0,sell:0,averageBuyPrice:0,averageSellPrice:0}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"toggleState",value:function(e){this.setState({toggle:e.target.value})}},{key:"toggleDirection",value:function(e){this.setState({direction:e.target.value})}},{key:"getSpread",value:function(e,t){var a=e[0]/100,s=t[0]/100;return{high:a,low:s,midpoint:parseFloat(a)+(s-a)/2}}},{key:"getDepth",value:function(e,t,a){var s=this.getSpread(e,t).midpoint,r=s-s*(a/100),i=s+s*(a/100),l=0,o=0,n=!0,c=!1,m=void 0;try{for(var h,u=e[Symbol.iterator]();!(n=(h=u.next()).done);n=!0){var p=h.value;p/100>r&&(l+=this.bidsMap[p].bidsvolume,o+=this.bidsMap[p].bidsvolume*this.bidsMap[p].value)}}catch(k){c=!0,m=k}finally{try{n||null==u.return||u.return()}finally{if(c)throw m}}var d=0,v=0,y=!0,b=!1,f=void 0;try{for(var g,S=t[Symbol.iterator]();!(y=(g=S.next()).done);y=!0){var E=g.value;E/100<i&&(d+=this.asksMap[E].asksvolume,v+=this.asksMap[E].asksvolume*this.asksMap[E].value)}}catch(k){b=!0,f=k}finally{try{y||null==S.return||S.return()}finally{if(b)throw f}}return{sell:{to:o,from:l},buy:{to:v,from:d}}}},{key:"getPriceImpact",value:function(e,t){var a={buy:0,sell:0,average:{buy:0,sell:0}};if(!this.state.priceImpactVolume)return a;var s=this.getSpread(e,t).midpoint,r=0,i=0,l=0,o=0,n=this.state.direction,c=!0,m=!1,h=void 0;try{for(var u,p=e[Symbol.iterator]();!(c=(u=p.next()).done);c=!0){var d=u.value;if(a.sell=this.bidsMap[d].value-s,this.bidsMap[d].bidstotalvolume[n]>this.state.priceImpactVolume){r+=(this.state.priceImpactVolume-i)*this.bidsMap[d].value,i=this.bidsMap[d].bidstotalvolume[n];break}i=this.bidsMap[d].bidstotalvolume.to,r+=this.bidsMap[d].bidsvolume*this.bidsMap[d].value}}catch(E){m=!0,h=E}finally{try{c||null==p.return||p.return()}finally{if(m)throw h}}var v=!0,y=!1,b=void 0;try{for(var f,g=t[Symbol.iterator]();!(v=(f=g.next()).done);v=!0){var S=f.value;if(a.buy=this.asksMap[S].value-s,this.asksMap[S].askstotalvolume[n]>this.state.priceImpactVolume){l+=(this.state.priceImpactVolume-o)*this.asksMap[S].value,o=this.asksMap[S].askstotalvolume[n];break}o=this.asksMap[S].askstotalvolume[n],l+=this.asksMap[S].asksvolume*this.asksMap[S].value}}catch(E){y=!0,b=E}finally{try{v||null==g.return||g.return()}finally{if(y)throw b}}return a.average={sell:r/Math.min(i,this.state.priceImpactVolume),buy:l/Math.min(o,this.state.priceImpactVolume)},a}},{key:"getStats",value:function(){var e={};this.bidsMap=this.props.orders[0],this.asksMap=this.props.orders[1];var t=Object.keys(this.props.orders[0]),a=Object.keys(this.props.orders[1]);t.sort((function(e,t){return t-e})),a.sort((function(e,t){return e-t})),e.spread=this.getSpread(t,a),e.depth=this.getDepth(t,a,10),e.impact=this.getPriceImpact(t,a,.5),this.stats=e}},{key:"render",value:function(){return this.props.orders&&Object.keys(this.props.orders[0]).length&&Object.keys(this.props.orders[0]).length?(this.getStats(),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"panel-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md"},r.a.createElement("form",{className:"switch-field"},r.a.createElement("input",{type:"radio",id:"switch_left",name:"switchToggle",value:"buy",onChange:this.toggleState,checked:"buy"===this.state.toggle}),r.a.createElement("label",{htmlFor:"switch_left"},"Buy"),r.a.createElement("input",{type:"radio",id:"switch_right",name:"switchToggle",value:"sell",onChange:this.toggleState,checked:"sell"===this.state.toggle}),r.a.createElement("label",{htmlFor:"switch_right"},"Sell"))),r.a.createElement("div",{className:"col-md"},r.a.createElement("form",{className:"switch-field direction"},r.a.createElement("input",{type:"radio",id:"switch_direction_to",name:"switchToggle",value:"from",onChange:this.toggleDirection,checked:"from"===this.state.direction}),r.a.createElement("label",{htmlFor:"switch_direction_to"},r.a.createElement("i",{className:"fa fa-exchange"}),this.props.fSym),r.a.createElement("input",{type:"radio",id:"switch_direction_from",name:"switchToggle",value:"to",onChange:this.toggleDirection,checked:"to"===this.state.direction}),r.a.createElement("label",{htmlFor:"switch_direction_from"},r.a.createElement("i",{className:"fa fa-exchange"}),this.props.tSym)),r.a.createElement("input",{className:"form-control price-impact",type:"text",value:this.state.priceImpactVolume,onChange:this.handleChange})),r.a.createElement("div",{className:"col-md"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md col-stat"},r.a.createElement("div",{className:"stat-wrapper"},r.a.createElement("div",{className:"stat-label"},"10% Bid Depth"),r.a.createElement("div",{className:"stat-data"},this.props.fSym," ",k.formatNumber(this.stats.depth[this.state.toggle].from,2,!0),"( ",this.props.tSym," ",k.formatNumber(this.stats.depth[this.state.toggle].to,2,!0)," )"))),r.a.createElement("div",{className:"col-md col-stat"},r.a.createElement("div",{className:"stat-wrapper"},r.a.createElement("div",{className:"stat-label"},"Price Impact"),r.a.createElement("div",{className:"stat-data ".concat(this.stats.impact[this.state.toggle]>=0?"up-text":"down-text")},this.props.tSym," ",k.formatNumber(this.stats.impact[this.state.toggle],6,!0)))),r.a.createElement("div",{className:"col-md col-stat"},r.a.createElement("div",{className:"stat-wrapper"},r.a.createElement("div",{className:"stat-label"},"Price Impact %"),r.a.createElement("div",{className:"stat-data ".concat(this.stats.impact[this.state.toggle]>=0?"up-text":"down-text")},k.formatNumber(this.stats.impact[this.state.toggle]/this.stats.spread.midpoint*100,3,!0)||0,"%"))),r.a.createElement("div",{className:"col-md"},r.a.createElement("div",{className:"stat-wrapper"},r.a.createElement("div",{className:"stat-label"},"Average Price"),r.a.createElement("div",{className:"stat-data"},this.props.tSym," ",k.formatNumber(this.stats.impact.average[this.state.toggle],2,!0))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md"}),r.a.createElement("div",{className:"col-md"},"Highest bid: ",r.a.createElement("span",{className:"up-text"},k.formatNumber(this.stats.spread.high,2,!0))),r.a.createElement("div",{className:"col-md"},r.a.createElement("div",null,"Midpoint: ",k.formatNumber(this.stats.spread.midpoint,3,!0)),r.a.createElement("div",null,"Spread: ",k.formatNumber(this.stats.spread.low-this.stats.spread.high,3,!0))),r.a.createElement("div",{className:"col-md"},"Lowest ask: ",r.a.createElement("span",{className:"down-text"},k.formatNumber(this.stats.spread.low,2,!0))),r.a.createElement("div",{className:"col-md"}))))):r.a.createElement("div",null)}}]),t}(s.Component),w=a(26),O=a.n(w),j=new E,x=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(!this.updated&&-1!==this.props.lastUpdated.indexOf(Number(this.props.order.value))){this.updated=!0;var e=this;setTimeout((function(){e.updated=!1}),100)}return this.price=this.props.order.value,this.volume=this.props.order.bidsvolume||this.props.order.asksvolume,this.tsymPrice=this.props.order.value*(this.props.order.bidsvolume||this.props.order.asksvolume||0),this.totalVolume=this.props.order.bidstotalvolume||this.props.order.askstotalvolume,r.a.createElement("div",{className:"row data-row ".concat(this.updated?"highlight":"")},r.a.createElement("div",{className:"col-md"},j.formatNumber(this.price,this.price>1?4:8,!0)),r.a.createElement("div",{className:"col-md"},j.formatNumber(this.volume,4,!0)),r.a.createElement("div",{className:"col-md"},j.formatNumber(this.tsymPrice,4,!0)),r.a.createElement("div",{className:"col-md"},j.formatNumber(this.totalVolume.from,2,!0)))}}]),t}(s.Component),U=new E,K=function(e){function t(){return Object(n.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"getTableRows",value:function(e){return this.props.keys.map((function(t){return r.a.createElement(x,{lastUpdated:e.lastUpdated,order:e.orders[t],key:t})}))}},{key:"render",value:function(){var e;return this.props.orders&&this.props.keys.length?(e="Buy"===this.props.title?{to:this.props.orders[this.props.keys[this.props.keys.length-1]].bidstotalvolume.to,from:this.props.orders[this.props.keys[this.props.keys.length-1]].bidstotalvolume.from}:{to:this.props.orders[this.props.keys[this.props.keys.length-1]].askstotalvolume.to,from:this.props.orders[this.props.keys[this.props.keys.length-1]].askstotalvolume.from},r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md"},this.props.fSym," ",U.formatNumber(e.to,2,!0)),r.a.createElement("div",{className:"col-md"},r.a.createElement("h4",null,this.props.title)),r.a.createElement("div",{className:"col-md"},this.props.tSym," ",U.formatNumber(e.from,2,!0))),r.a.createElement("div",{className:"orderbook"},r.a.createElement("div",{className:"row title-row"},r.a.createElement("div",{className:"col-md"},"Price"),r.a.createElement("div",{className:"col-md"},this.props.fSym),r.a.createElement("div",{className:"col-md"},this.props.tSym),r.a.createElement("div",{className:"col-md"},"Sum(",this.props.tSym,")")),r.a.createElement(O.a,{containerHeight:400,elementHeight:21},this.getTableRows(this.props))))):r.a.createElement("div",null)}}]),t}(s.Component),P=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={orders:[],lastUpdated:[]},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(!Object.keys(this.props.orders).length)return r.a.createElement("div",null);var e=Object.keys(this.props.orders[0]),t=Object.keys(this.props.orders[1]);return e.sort((function(e,t){return t-e})),t.sort((function(e,t){return e-t})),r.a.createElement("div",{className:"container"},r.a.createElement(N,{fSym:this.props.fSym,tSym:this.props.tSym,orders:this.props.orders}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(K,{fSym:this.props.fSym,tSym:this.props.tSym,orders:this.props.orders[0],keys:e,lastUpdated:this.props.lastUpdated,title:"Buy"})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(K,{fSym:this.props.fSym,tSym:this.props.tSym,orders:this.props.orders[1],keys:t,lastUpdated:this.props.lastUpdated,title:"Sell"}))))}}]),t}(s.Component),C=new b,I=function(e){function t(e){var a;Object(n.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).changeSubscription=a.changeSubscription.bind(Object(u.a)(a)),a.state={orders:{},lastUpdated:[],exchange:e.exchange,fSym:e.fSym,tSym:e.tSym,apiKey:e.apiKey};var s=Object(u.a)(a);return setInterval((function(){s.setState((function(e){return{orders:C.getSnapshot(),lastUpdated:C.getLastUpdated()}})),C.resetLastUpdated()}),150),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"subscribe",value:function(e,t,a,s,r){var i=this;this.callback=function(e){i.setState((function(t){return{orders:e.orders,lastUpdated:C.getLastUpdated()}})),C.resetLastUpdated()},C.subscribe(e,t,a,s,r,this.callback)}},{key:"changeSubscription",value:function(e,t,a){var s=e.split("~"),r=s[0],i=s[1],l=s[2];C.unsubscribe(),this.setState({exchange:r,fSym:i,tSym:l}),this.subscribe(r,i,l,t,a)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(f,{subscribe:this.changeSubscription,clientUrl:C.clientUrl,apiKey:this.state.apiKey,exchange:this.state.exchange,fSym:this.state.fSym,tSym:this.state.tSym,autoSubscribe:this.props.autoSubscribe}),r.a.createElement(P,{fSym:this.state.fSym,tSym:this.state.tSym,orders:this.state.orders,lastUpdated:this.state.lastUpdated}))}}]),t}(s.Component);a(65),a(66);var M=function(){var e=window.location.search,t=new URLSearchParams(e),a=t.get("e")||"Binance",s=t.get("fsym")||"ETH",i=t.get("tsym")||"USDT",l=t.get("apikey")||"df1c3574c94e2c8e04a8c74b07a60b6d2e0279f5a209d81c80973d7bffdd3908",n=t.get("subscribe")||!1;return r.a.createElement("div",{className:"App"},r.a.createElement(o,{title:"CryptoCompare Orderbook L2 Streamer"}),r.a.createElement(I,{exchange:a,fSym:s,tSym:i,apiKey:l,autoSubscribe:n}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.2fd020b8.chunk.js.map